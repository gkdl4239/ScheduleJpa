# SpringProject - ScheduleJpa

# ğŸ’» í”„ë¡œì íŠ¸ ì†Œê°œ
Springì„ ì´ìš©í•´ ë§Œë“¤ì—ˆë˜ ì¼ì • í”„ë¡œì íŠ¸ì—ì„œ Jdbcë¥¼ Jpaë¡œ ë³€ê²½í•˜ì—¬ ì—…ê·¸ë ˆì´ë“œí•œ í”„ë¡œì íŠ¸ì…ë‹ˆë‹¤

# â° ê°œë°œ ê¸°ê°„
* 24.12.11 ~ 24.12.13

---
# ğŸ“ˆ ERD ë‹¤ì´ì–´ê·¸ë¨

```mermaid
---
title: Calendar
---
erDiagram
    user ||--o{ comment : contains
    user ||--o{ schedule : contains
    user{
        uuid id PK "user_id"
        string username
        string email
        string password
        timestamp created_at
        timestamp updated_at
    }
    schedule ||--o{ comment : conatins
    schedule{
        uuid id PK "schedule_id"
        uuid user_id FK "user_id"
        string title
        string contents
        timestamp created_at
        timestamp updated_at
    }
    comment{
        uuid id PK
        uuid user_id FK "user_id"
        uuid schedule_id FK "schedule_id"
        string contents
        timestamp created_at
        timestamp updated_at
    }
```
---
# ğŸ“Œ API ëª…ì„¸ì„œ

- ## [ìœ ì €](#user)
- ## [ì¼ì •](#schedule)
- ## [ëŒ“ê¸€](#comment)

## ìœ ì €<a id="user"></a>

| Method   | URL             | Description | Request |
|----------|-----------------|-------------|---------|
| `POST`   | `/users/signup` | ìœ ì € ìƒì„±       | Body
| `POST`   | `/users/login`  | ë¡œê·¸ì¸         | Body
| `POST`   | `/users/logout` | ë¡œê·¸ì•„ì›ƒ        | None
| `GET`    | `/users/{id}`   | ìœ ì € ë‹¨ê±´ ì¡°íšŒ    | Param
| `PATCH`  | `/users/{id}`   | ìœ ì € ìˆ˜ì •       | Body
| `DELETE` | `/users/{id}`   | ìœ ì € ì‚­ì œ       | Param
---
### 1. ìœ ì € ìƒì„± (POST)

| í•„ë“œëª…        | í•„ìˆ˜ ì—¬ë¶€ | ë°ì´í„° íƒ€ì…      | ì„¤ëª…               | 
|------------|-----------|-----------------|------------------|
| `username` | âœ…        | `String`        | ì‚¬ìš©ì ì´ë¦„ (ìµœëŒ€ 10ì)  | 
| `email`    | âœ…        | `String`        | ìœ íš¨í•œ ì´ë©”ì¼ í˜•ì‹ (ì •ê·œì‹) | 
| `password` | âœ…        | `String`        | ë¹„ë°€ë²ˆí˜¸ (ìµœì†Œ 4ìë¦¬)    | 

- ### Response

> Success : 201 Created
```json
{
  "id": 1,
  "username": "ì´ìš°ì§„",
  "email": "test@test.com"
}
```
> ì´ë¦„ì´ 10ì ë„˜ì–´ê°€ëŠ” ê²½ìš° : 400
```json
{
    "username": "ì´ë¦„ì€ 10ê¸€ìë¥¼ ë„˜ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤."
}
```
>ì´ë©”ì¼ í˜•ì‹ì´ ì•ˆë§ëŠ” ê²½ìš° : 400
> 
```json
{
    "email": "ì˜¬ë°”ë¥¸ ì´ë©”ì¼í˜•ì‹ì„ ì…ë ¥í•˜ì„¸ìš”."
}
```
>ì´ë©”ì¼ì´ ì´ë¯¸ ì¡´ì¬í•˜ëŠ” ê²½ìš° : 400
```json
{
"error": "ì´ë¯¸ ì‚¬ìš©ì¤‘ì¸ ì´ë©”ì¼ì…ë‹ˆë‹¤."
}
```
>ë¹„ë°€ë²ˆí˜¸ê°€ 4ìë¦¬ ì´í•˜ì¸ ê²½ìš° : 400
```json
{
    "password": "ë¹„ë°€ë²ˆí˜¸ëŠ” ìµœì†Œ 4ìë¦¬ë¶€í„° ì‚¬ìš© ê°€ëŠ¥í•©ë‹ˆë‹¤."
}
```
---
### 2. ìœ ì € ë¡œê·¸ì¸ (POST)
| í•„ë“œëª…        | í•„ìˆ˜ ì—¬ë¶€ | ë°ì´í„° íƒ€ì…   | ì„¤ëª…   |
|------------|-----------|----------|------|
| `email`    | âœ…        | `String` | ì´ë©”ì¼  |
| `password` | âœ…        | `Long`   | ë¹„ë°€ë²ˆí˜¸ |

- ### Response
> Success : 200 OK

> ì•„ì´ë””ë‚˜ ë¹„ë°€ë²ˆí˜¸ê°€ ì¼ì¹˜í•˜ì§€ ì•Šì„ ê²½ìš° : 400
```json
{
    "error": "ì•„ì´ë””ë‚˜ ë¹„ë°€ë²ˆí˜¸ê°€ ì¼ì¹˜í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤."
}
```
---
### 3. ìœ ì € ë¡œê·¸ì•„ì›ƒ (POST)
- ### Response
> Success : 200 OK
---
### 4. ìœ ì € ë‹¨ê±´ ì¡°íšŒ (GET)
| í•„ë“œëª…        | í•„ìˆ˜ ì—¬ë¶€ | ë°ì´í„° íƒ€ì…   | ì„¤ëª…    |
|------------|-----------|----------|-------|
| `id`       | âœ…        | `Long`   | ìœ ì € ID |

- ### Response
> Success : 200 OK
```json
{
  "id": 1,
  "username": "ì´ìš°ì§„",
  "email": "test@test.com"
}
```
> ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ì•„ì´ë””ì¸ ê²½ìš° : 404
```json
{
    "error": "ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ìœ ì € ì…ë‹ˆë‹¤."
}
```
---
### 5. ìœ ì € ìˆ˜ì • (PATCH)
| í•„ë“œëª…           | í•„ìˆ˜ ì—¬ë¶€ | ë°ì´í„° íƒ€ì…      | ì„¤ëª…              | 
|---------------|-----------|-----------------|-----------------|
| `username`    | âŒ        | `String`        | ì‚¬ìš©ì ì´ë¦„ (ìµœëŒ€ 10ì) | 
| `oldPassword` | âŒ        | `String`        | ê¸°ì¡´ ë¹„ë°€ë²ˆí˜¸         | 
| `newPassword` | âŒ        | `String`        | ìƒˆ ë¹„ë°€ë²ˆí˜¸          | 
- ### Response
> Success : 200 OK

> ìˆ˜ì •í•˜ë ¤ëŠ” ìœ ì €ê°€ ë¡œê·¸ì¸í•œ ë³¸ì¸ì´ ì•„ë‹Œ ê²½ìš° : 401
```json
{
    "error": "ë³¸ì¸ì˜ ê³„ì •ì´ ì•„ë‹™ë‹ˆë‹¤."
}
```
> ê¸°ì¡´ ë¹„ë°€ë²ˆí˜¸ê°€ ì¼ì¹˜í•˜ì§€ ì•ŠëŠ” ê²½ìš° : 400
```json
{
    "error": "ê¸°ì¡´ ë¹„ë°€ë²ˆí˜¸ê°€ ì¼ì¹˜í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤."
}
```
> ê¸°ì¡´ ë¹„ë°€ë²ˆí˜¸ì™€ ìƒˆ ë¹„ë°€ë²ˆí˜¸ ì¤‘ í•˜ë‚˜ë§Œ ì…ë ¥í•œ ê²½ìš° : 400
```json
{
    "error": "ê¸°ì¡´ ë¹„ë°€ë²ˆí˜¸ì™€ ìƒˆ ë¹„ë°€ë²ˆí˜¸ë¥¼ ë‘˜ë‹¤ ì…ë ¥í•´ì£¼ì„¸ìš”."
}
```
---
### 6. ìœ ì € ì‚­ì œ (DELETE)
| í•„ë“œëª…        | í•„ìˆ˜ ì—¬ë¶€ | ë°ì´í„° íƒ€ì…   | ì„¤ëª…    |
|------------|-----------|----------|-------|
| `id`       | âœ…        | `Long`   | ìœ ì € ID |

- ### Response
> Success : 200 OK


> ìˆ˜ì •í•˜ë ¤ëŠ” ìœ ì €ê°€ ë¡œê·¸ì¸í•œ ë³¸ì¸ì´ ì•„ë‹Œ ê²½ìš° : 401
```json
{
    "error": "ë³¸ì¸ì˜ ê³„ì •ì´ ì•„ë‹™ë‹ˆë‹¤."
}
```
---
## ì¼ì • <a id="schedule"></a>

| Method   | URL             | Description | Request |
|----------|-----------------|-------------|---------|
| `POST`   | `/schedules` | ì¼ì • ìƒì„±       | Body
| `GET`    | `/schedules/`   | ì¼ì • ì „ì²´ ì¡°íšŒ    | Param
| `GET`    | `/schedules/{id}` | ì¼ì • ë‹¨ê±´ ì¡°íšŒ    | Param
| `PATCH`  | `/schedules/{id}` | ì¼ì • ìˆ˜ì •       | Body
| `DELETE` | `/schedules/{id}` | ì¼ì • ì‚­ì œ       | Param
---
### 1. ì¼ì • ìƒì„± (POST)

| í•„ë“œëª…        | í•„ìˆ˜ ì—¬ë¶€ | ë°ì´í„° íƒ€ì…      | ì„¤ëª…    | Request |
|------------|-----------|-----------------|-------|---------|
| `title`    | âœ…        | `String`        | ì¼ì • ì œëª© | Body    |
| `contents` | âœ…        | `String`        | ì¼ì • ë‚´ìš© | Body    |


- ### Response

> Success : 201 Created
```json
{
  "id": 1,
  "username": "ì´ìš°ì§„",
  "title": "ì œëª©3",
  "contents": "ë‚´ìš©3",
  "createdAt": "2024-12-13T18:57:13.9178818",
  "updatedAt": "2024-12-13T18:57:13.9178818",
  "commentCount": 0
}
```
> ì œëª©ì´ë‚˜ ë‚´ìš©ì´ ë¹„ì–´ìˆì„ ê²½ìš° : 400
```json
{
    "contents": "ê³µë°±ì¼ ìˆ˜ ì—†ìŠµë‹ˆë‹¤"
}
```
---
### 2. ì¼ì • ì „ì²´ ì¡°íšŒ (GET)
| í•„ë“œëª…          | í•„ìˆ˜ ì—¬ë¶€ | ë°ì´í„° íƒ€ì… | ì„¤ëª…                       | Request |
|--------------|-----------|--------|--------------------------|---------|
| `pageNumber` | âŒ         | `int`  | ê°€ë¦¬í‚¬ í˜ì´ì§€ (default = 1)    | Param   |
| `pageSize`   | âŒ         | `int`  | í˜ì´ì§€ë‹¹ ìš”ì†Œ ê°œìˆ˜ (default = 5) | Param      | 
- ### Response
>Success : 200 OK
```json
{
    "contents": [
        {
            "id": 2,
            "username": "ì´ìš°ì§„",
            "title": "ì œëª©3",
            "contents": "ë‚´ìš©3",
            "createdAt": "2024-12-13T18:59:20.394866",
            "updatedAt": "2024-12-13T18:59:20.394866",
            "commentCount": 0
        },
        {
            "id": 1,
            "username": "ì´ìš°ì§„",
            "title": "ì œëª©3",
            "contents": "ë‚´ìš©3",
            "createdAt": "2024-12-13T18:57:13.917882",
            "updatedAt": "2024-12-13T18:57:13.917882",
            "commentCount": 0
        }
    ],
    "currentPage": 2,
    "totalPages": 2
}
```
---
### 3. ì¼ì • ìˆ˜ì • (PATCH)
| í•„ë“œëª…        | í•„ìˆ˜ ì—¬ë¶€ | ë°ì´í„° íƒ€ì…      | ì„¤ëª…    | Request |
|------------|-----------|-----------------|-------|---------|
| `title`    | âŒ        | `String`        | ì¼ì • ì œëª© | Body    |
| `contents` | âŒ        | `String`        | ì¼ì • ë‚´ìš© | Body    |
- ### Response
>Success : 200 OK


> ì œëª©ì´ë‚˜ ë‚´ìš©ì´ "" ë˜ëŠ” " "ì¸ ê²½ìš° : 400
```json
{
    "contents": "ê³µë°±ì¼ ìˆ˜ ì—†ìŠµë‹ˆë‹¤."
}
```
> íƒ€ì¸ì˜ ê¸€ì„ ì‘ì„±í•˜ë ¤ëŠ” ê²½ìš° : 401
```json
{
    "error": "ë³¸ì¸ì´ ì‘ì„±í•œ ê¸€ì´ ì•„ë‹™ë‹ˆë‹¤."
}
```
---
### 4. ì¼ì • ì‚­ì œ (DELETE)
| í•„ë“œëª…        | í•„ìˆ˜ ì—¬ë¶€ | ë°ì´í„° íƒ€ì…   | ì„¤ëª…    | Request |
|------------|-----------|----------|-------|---------|
| `id`       | âœ…        | `Long`   | ì¼ì • ID | Param   |
- ### Response
>Success : 200 OK

> íƒ€ì¸ì˜ ê¸€ì„ ì‚­ì œí•˜ë ¤ëŠ” ê²½ìš° : 401
```json
{
    "error": "ë³¸ì¸ì´ ì‘ì„±í•œ ê¸€ì´ ì•„ë‹™ë‹ˆë‹¤."
}
```
---
## ëŒ“ê¸€<a id="comment"></a>

| Method   | URL                                 | Description | Request |
|----------|-------------------------------------|-------------|---------|
| `POST`   | `{scheduleId}/comments`             | ëŒ“ê¸€ ìƒì„±       | Body
| `GET`    | `{scheduleId}/comments`             | ëŒ“ê¸€ ì „ì²´ ì¡°íšŒ    | Param
| `PATCH`  | `{scheduleId}/comments/{commentId}` | ëŒ“ê¸€ ìˆ˜ì •       | Body
| `DELETE` | `scheduleId}/comments/{commentId}`  | ëŒ“ê¸€ ì‚­ì œ       | Param
---
### 1. ëŒ“ê¸€ ìƒì„± (POST)
| í•„ë“œëª…        | í•„ìˆ˜ ì—¬ë¶€ | ë°ì´í„° íƒ€ì…      | ì„¤ëª…    | Request |
|------------|-----------|-----------------|-------|---------|
| `scheduleId`    | âœ…        | `String`        | ì¼ì • ID | Param   |
| `contents` | âœ…        | `String`        | ëŒ“ê¸€ ë‚´ìš© | Body    |
- ### Response
>Success : 201 CREATED
```json
{
    "id": 1,
    "username": "ì´ìš°ì§„",
    "contents": "í•˜ì´í•˜ì´",
    "createdAt": "2024-12-13T19:55:26.1244593",
    "updatedAt": "2024-12-13T19:55:26.1244593"
}
```
> ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ì¼ì •ì— ëŒ“ê¸€ ìƒì„±ì„ ì‹œë„í•  ê²½ìš° : 404
```json
{
    "error": "ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ì¼ì •ì…ë‹ˆë‹¤."
}
```
---
### 2. ëŒ“ê¸€ ì¡°íšŒ (GET)
| í•„ë“œëª…        | í•„ìˆ˜ ì—¬ë¶€ | ë°ì´í„° íƒ€ì…      | ì„¤ëª…    | Request |
|------------|-----------|-----------------|-------|---------|
| `scheduleId`    | âœ…        | `String`        | ì¼ì • ID | Param   |
- ### Response
>Success : 200 OK
```json
[
    {
        "id": 2,
        "username": "ì´ìš°ì§„",
        "contents": "í•˜ì´í•˜ì´2",
        "createdAt": "2024-12-13T19:57:09.003695",
        "updatedAt": "2024-12-13T19:57:09.003695"
    },
    {
        "id": 1,
        "username": "ì´ìš°ì§„",
        "contents": "í•˜ì´í•˜ì´",
        "createdAt": "2024-12-13T19:55:26.124459",
        "updatedAt": "2024-12-13T19:55:26.124459"
    }
]
```
> ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ì¼ì •ì— ëŒ“ê¸€ ìƒì„±ì„ ì‹œë„í•  ê²½ìš° : 404
---
### 3. ëŒ“ê¸€ ìˆ˜ì • (PATCH)
| í•„ë“œëª…          | í•„ìˆ˜ ì—¬ë¶€ | ë°ì´í„° íƒ€ì…      | ì„¤ëª…    | Request |
|--------------|-----------|-----------------|-------|---------|
| `scheduleId` | âœ…        | `String`        | ì¼ì • ID | Param   |
| `commentId`  | âœ…        | `String`        | ëŒ“ê¸€ ID | Param   |
| `contents`   | âœ…        | `String`        | ëŒ“ê¸€ ë‚´ìš© | Body    |
- ### Response
>Success : 200 OK


> ì œëª©ì´ë‚˜ ë‚´ìš©ì´ "" ë˜ëŠ” " "ì¸ ê²½ìš° : 400
```json
{
    "contents": "ê³µë°±ì¼ ìˆ˜ ì—†ìŠµë‹ˆë‹¤."
}
```
> íƒ€ì¸ì˜ ê¸€ì„ ìˆ˜ì •í•˜ë ¤ëŠ” ê²½ìš° : 401
```json
{
  "error": "ë³¸ì¸ì´ ì‘ì„±í•œ ëŒ“ê¸€ì´ ì•„ë‹™ë‹ˆë‹¤."
}
```
---
### 4. ëŒ“ê¸€ ì‚­ì œ (DELETE)
| í•„ë“œëª…        | í•„ìˆ˜ ì—¬ë¶€ | ë°ì´í„° íƒ€ì…   | ì„¤ëª…    | Request |
|------------|-----------|----------|-------|---------|
| `scheduleId`       | âœ…        | `Long`   | ì¼ì • ID | Param   |
| `commentId`  | âœ…        | `String`        | ëŒ“ê¸€ ID | Param   |
- ### Response
>Success : 200 OK

> íƒ€ì¸ì˜ ê¸€ì„ ì‚­ì œí•˜ë ¤ëŠ” ê²½ìš° : 401
```json
{
    "error": "ë³¸ì¸ì´ ì‘ì„±í•œ ëŒ“ê¸€ì´ ì•„ë‹™ë‹ˆë‹¤."
}
```
